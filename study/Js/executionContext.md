# Execution Context

<br>

## 실행콘텍스트(execution context)란 무엇인가?

> 코드(함수)를 실행할 때 필요한 환경정보(또는 환경정보를 담은 객체)

<br>

이 용어르 자바스크립트를 처음 접할때부터 종종 들어보면서도 추상적인 개념으로 확실히 와닿지 않은채로 지나간적이 있었다.  
두리뭉실한 개념을 싫어해서 확실히 파악해 보겠다고 책과 인터넷을 뒤지던 때도 있었는데, 그래도 너무 어렵고 쉽사리 잡히지 않는 개념을 다음엔 알수 있겠지하며 넘어가기도 했던것 같다. (안그럼 진도가 안나가서...👉👈)  
그림도 그려보고, 표도 그려보고 해봤지만 초반에 혼자서 이해하는건 지금 생각해도 어려웠던 시도가 아니였나 싶다.  
이전에 호이스팅에 대해 다룬적이 있는데, 이 실행콘텍스트는 호이스팅과도 관련이 있다.

위에 정의한 대로 코드가 실행될때 내 코드에서 선언한 변수나 함수들을 호이스팅해서 미리 선언환경에 등록시켜주고, 스코프를 파악해서 외부 스코프나 외부 변수등을 참조 해놓고(클로저를 위해) this가 어딜 가리키는지도 정해놓는다.

이전까진 그냥 브라우저나 엔진이 알아서(?) 다 해준다고 겁나게 큰 추상적인 생각으로 넘어갔었는데, 그 알아서 해주는게 바로 실행콘택스트가 하던 일인것이다!

어제 강의 보고 다시한번 정리 해봤는데, 구구절절한 설명보단 정리한 내용을 간략히 적어 놓고 다음에 필요하다 여기면 보충하겠다( ~~절때 귀찮아서 그런건 아니....~~ )  
아 참고로 코어자바스크립트의 저자인 재남님의 강의를 보고 아래처럼 정리했다.

<br>

## 실행콘텍스트

### 1.변수환경(variable environment) :

- 환경레코드(스냅샷)
- 외부환경참조(스냅샷)

### 2.언휘적환경(lexical environment) :

- 환경레코드: 현재문맥의 식별자-호이스팅 (스냅샷이 아니므로 변동됨)
- 외부환경참조: 외부 식별자-스코프체인 (스냅샷이 아니므로 변동됨)

### 3.thisbinding :함수호출될때 결정된다. 어떤식으로 호출했는지 동적으로 바인딩됨.

- 전역공간에서 : window / global
- 함수 호출시: window / global ->es5에선 함수내부에서 그냥 호출되는 this는 window
- 메소드 호출시: 호출한 . 앞을 this로 가리킨다.
- callback 호출시: 기본적으론 함수 호출과 동일
  - 제어권을 가진 함수가 콜백 디스를 명시한 경우 그에 따른다.
  - 개발자가 디스를 바인딩해서 콜백을 넘기면 그에 따른다. (call,apply,bind로 명시적으로 this를 지정할수있다)
- 생성자 함수 호출시: 인스턴스를 가르킨다.
